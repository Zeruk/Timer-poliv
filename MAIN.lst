MPASM  5.37                          MAIN.ASM   7-1-2017  21:19:33         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001         LIST            p=16f876a
2007   3F3A           00002         __CONFIG        0x3F3A
                      00003         
                      00004 ;; переменные
  00000083            00005 STATUS          EQU             83h
  0000008B            00006 INTCON          EQU             8Bh
  00000085            00007 TRISA           EQU             85h
  00000086            00008 TRISB           EQU             86h
  00000087            00009 TRISC           EQU             87h
  00000005            00010 PORTA           EQU             05h
  00000006            00011 PORTB           EQU             06h
  00000007            00012 PORTC           EQU             07h
  00000002            00013 PCL                     EQU             02h
  0000001F            00014 ADCON0          EQU             1Fh
  0000009F            00015 ADCON1          EQU             9Fh
  0000010D            00016 EEADR           EQU             10Dh
  0000010C            00017 EEDATA          EQU             10Ch
  0000018C            00018 EECON1          EQU             18Ch
  0000018D            00019 EECON2          EQU             18Dh
                      00020 ;; DS1302 константы
  00000002            00021 RST                     EQU             .2
  00000000            00022 SCLK            EQU             .0
  00000001            00023 IO                      EQU             .1
  00000082            00024 DS_W_MINUTES    EQU             82h
  00000083            00025 DS_R_MINUTES    EQU             83h
  00000084            00026 DS_W_HOUR       EQU             84h
  00000085            00027 DS_R_HOUR       EQU             85h
  0000008E            00028 DS_WP           EQU             8Eh
                      00029 ;;
  00000002            00030 B_MODE          EQU             .2
  00000003            00031 B_SELECT        EQU             .3
  00000001            00032 RELAY           EQU             .1
                      00033 ;;      Количество показов, чтобы избежать дребезга
  0000000F            00034 RATTLING_COUNT_SHOWING  EQU             .15                     ;;!!! ПРОТЕСТИРОВАТЬ !!!
  00000009            00035 COUNT_TAPS_MODE_CONST   EQU             .9
  00000007            00036 COUNT_TAPS_MODE_CONST1  EQU             .7
Warning[205]: Found directive in column 1. (CBLOCK)
                      00037 CBLOCK 0x20
  00000020            00038 IND1            ;; 0x20
  00000021            00039 IND2            ;; 0x21
  00000022            00040 IND3            ;; 0x22
  00000023            00041 IND4            ;; x023
  00000024            00042 IND_TEMP
  00000025            00043 IBLINKING       ;;      =00001110
  00000026            00044 IDOBLINK                ;; 0/1  
                      00045 ;;
  00000027            00046 COUNT_TAPS_MODE
                      00047 ;;ВРЕМЯ СЕЙЧАС
  00000028            00048 NOW_MINUTE
  00000029            00049 NOW_MINUTE10
  0000002A            00050 NOW_HOUR
  0000002B            00051 NOW_HOUR10
                      00052 ;;ДЛЯ ЗАДЕРЖКИ
MPASM  5.37                          MAIN.ASM   7-1-2017  21:19:33         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000002C            00053 TIMER_COUNTER1
  0000002D            00054 TIMER_COUNTER2
  0000002E            00055 TIMER_COUNTER3
  0000002F            00056 TIMER_COUNTER4  ;;для моргания индикаторами
                      00057 ;;ПЕРЕДАЧА/ПРИЕМ БАЙТА
  00000030            00058 RW_BYTE         ;; управляющий байт
  00000031            00059 RW_BYTE1        ;; Принятый байт/ байт для передачи  0x31
                      00060 ;;ДЛЯ ОГРАНИЧЕНИЯ ВВОДА
  00000032            00061 CURR_SKED               ;;Текущий режим
                      00062 ;;первый режим, этот байт - минуты
                      00063                                                         ;;второй байт - десятки минут
                      00064                                                         ;;третий байт - часы
  00000033            00065 ADDR
  00000034            00066 VALUE
Warning[205]: Found directive in column 1. (ENDC)
                      00067 ENDC
                      00068 ;;******************* конец переменных ********************
                      00069 
                      00070 ;;                              !!! Максимум 8 вызовов CALL !!!
                      00071 
Warning[205]: Found directive in column 1. (org)
0000                  00072 org 0
                      00073         ;;Инициализация
0000                  00074 init_lbl
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0000   0183           00075         CLRF            STATUS
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0001   138B           00076         BCF                     INTCON,7                ;;запрет прерываний
0002   019F           00077         CLRF            ADCON0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0003   1303           00078         BCF                     STATUS,6                ;;первый бит выбора банка = 0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0004   1683           00079         BSF                     STATUS,5                ;;второй = 1   => bank #1
0005   3007           00080         MOVLW           B'00000111'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0006   009F           00081         MOVWF           ADCON1
                      00082         ;; порты: A,B,C
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0007   0185           00083         CLRF            TRISA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0008   1485           00084         BSF                     TRISA,IO
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0009   0186           00085         CLRF            TRISB
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
000A   0187           00086         CLRF            TRISC
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
000B   1507           00087         BSF                     TRISC,2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
000C   1587           00088         BSF                     TRISC,3
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
000D   1283           00089         BCF                     STATUS,5                ;;  BANK0
000E   0185           00090         CLRF            PORTA
000F   0186           00091         CLRF            PORTB
MPASM  5.37                          MAIN.ASM   7-1-2017  21:19:33         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0010   0187           00092         CLRF            PORTC
                      00093 
                      00094 
                      00095 ;; ///////////////////////////////////////////////////////////////////////
                      00096 ;; //////////////////////////////// Main /////////////////////////////////
                      00097 ;; ///////////////////////////////////////////////////////////////////////
0011                  00098 MAIN
0011   3000           00099         MOVLW           B'00000000'
0012   00A5           00100         MOVWF           IBLINKING
0013   3001           00101         MOVLW           B'00000001'
0014   00AF           00102         MOVWF           TIMER_COUNTER4
0015   3000           00103         MOVLW           .0
0016   00A0           00104         MOVWF           IND1
0017   00A1           00105         MOVWF           IND2
0018   00A2           00106         MOVWF           IND3
0019   00A3           00107         MOVWF           IND4
001A   3096           00108         MOVLW           .150
001B   211D           00109         CALL            SHOWING_DELAY
001C   300A           00110         MOVLW           .10
001D   00A0           00111         MOVWF           IND1
001E   00A1           00112         MOVWF           IND2
001F   00A2           00113         MOVWF           IND3
0020   00A3           00114         MOVWF           IND4
0021   204C           00115         CALL            SHOWING
0022   1D07           00116         BTFSS           PORTC,B_MODE ;;проверка нажатия кнопки, если нажата,
0023   2821           00117         GOTO            $-2              ;;то следующая инструкция не выполняется
0024   29BA           00118         GOTO            SHOWMENU
Warning[203]: Found opcode in column 1. (GOTO)
0025   2811           00119 GOTO    MAIN
                      00120 ;; ///////////////////////////////////////////////////////////////////////
                      00121 ;; ///////////////////////////////////////////////////////////////////////
                      00122 ;; ///////////////////////////////////////////////////////////////////////
                      00123 
                      00124 ;; **************************** Подпрограммы **************************** 
                      00125 
                      00126 
0026                  00127 CHAR_TABLE
0026   0782           00128         ADDWF           PCL,1
0027   34C0           00129         RETLW           B'11000000';0
0028   34F9           00130         RETLW           B'11111001';1
0029   34A4           00131         RETLW           B'10100100';2
002A   34B0           00132         RETLW           B'10110000';3
002B   3499           00133         RETLW           B'10011001';4
002C   3492           00134         RETLW           B'10010010';5
002D   3482           00135         RETLW           B'10000010';6
002E   34F8           00136         RETLW           B'11111000';7
002F   3480           00137         RETLW           B'10000000';8
0030   3490           00138         RETLW           B'10010000';9
0031   34FF           00139         RETLW           B'11111111';10
0032   3488           00140         RETLW           B'10001000';A   11
0033   34C6           00141         RETLW           B'11000110';C   12
0034   3486           00142         RETLW           B'10000110';E   13
0035   348E           00143         RETLW           B'10001110';F   14
MPASM  5.37                          MAIN.ASM   7-1-2017  21:19:33         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0036   34C2           00144         RETLW           B'11000010';G   15
0037   3489           00145         RETLW           B'10001001';H   16
0038   34C7           00146         RETLW           B'11000111';L   17
0039   34AB           00147         RETLW           B'10101011';N   18
003A   348C           00148         RETLW           B'10001100';P   19
003B   34DB           00149         RETLW           B'11011011';S=5 20 
003C   34C1           00150         RETLW           B'11000001';U   21
003D   3482           00151         RETLW           B'10000010';Б   22
003E   3491           00152         RETLW           B'10010001';У   23
003F   3499           00153         RETLW           B'10011001';Ч   24
                      00154 
Warning[203]: Found opcode in column 1. (RETURN)
0040   0008           00155 RETURN
                      00156 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0041                  00157 DELAY  ;; 500 циклов NO
0041   30DD           00158         MOVLW           .221
0042   00AC           00159         MOVWF           TIMER_COUNTER1
0043   3001           00160         MOVLW           .1
0044   00AD           00161         MOVWF           TIMER_COUNTER2
0045   0BAC           00162         DECFSZ          TIMER_COUNTER1,1
0046   2845           00163         GOTO            $-1
0047   0BAD           00164         DECFSZ          TIMER_COUNTER2,1
0048   2845           00165         GOTO            $-3
0049   0000           00166         NOP
004A   0000           00167         NOP
Warning[203]: Found opcode in column 1. (RETURN)
004B   0008           00168 RETURN
                      00169 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
004C                  00170 SHOWING
Message[305]: Using default destination of 1 (file).
004C   0BAF           00171         DECFSZ          TIMER_COUNTER4
004D   2851           00172         GOTO            $+4
004E   09A6           00173         COMF            IDOBLINK,1
004F   3014           00174         MOVLW           .20
0050   00AF           00175         MOVWF           TIMER_COUNTER4
                      00176         
0051   1C26           00177         BTFSS           IDOBLINK,0              ;;--
0052   2854           00178         GOTO            $+2                             ;;;ДЛЯ МОРГАНИЯ
0053   1DA5           00179         BTFSS           IBLINKING,3             ;;__
0054   1787           00180         BSF                     PORTC,7
0055   0820           00181         MOVF            IND1,0
0056   2026           00182         CALL            CHAR_TABLE
0057   0086           00183         MOVWF           PORTB
0058   2041           00184         CALL            DELAY
0059   1387           00185         BCF                     PORTC,7
                      00186 
005A   1C26           00187         BTFSS           IDOBLINK,0              ;;--
005B   285D           00188         GOTO            $+2                             ;;;ДЛЯ МОРГАНИЯ
005C   1D25           00189         BTFSS           IBLINKING,2             ;;__
005D   1707           00190         BSF                     PORTC,6
005E   0821           00191         MOVF            IND2,0
005F   2026           00192         CALL            CHAR_TABLE
0060   0086           00193         MOVWF           PORTB
MPASM  5.37                          MAIN.ASM   7-1-2017  21:19:33         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0061   2041           00194         CALL            DELAY
0062   1307           00195         BCF                     PORTC,6
                      00196 
0063   1C26           00197         BTFSS           IDOBLINK,0              ;;--
0064   2866           00198         GOTO            $+2                             ;;;ДЛЯ МОРГАНИЯ
0065   1CA5           00199         BTFSS           IBLINKING,1             ;;__
0066   1687           00200         BSF                     PORTC,5
0067   0822           00201         MOVF            IND3,0
0068   2026           00202         CALL            CHAR_TABLE
0069   0086           00203         MOVWF           PORTB
006A   2041           00204         CALL            DELAY
006B   1287           00205         BCF                     PORTC,5
                      00206 
006C   1C26           00207         BTFSS           IDOBLINK,0              ;;--
006D   286F           00208         GOTO            $+2                             ;;;ДЛЯ МОРГАНИЯ
006E   1C25           00209         BTFSS           IBLINKING,0             ;;__
006F   1607           00210         BSF                     PORTC,4
0070   0823           00211         MOVF            IND4,0
0071   2026           00212         CALL            CHAR_TABLE
0072   0086           00213         MOVWF           PORTB
0073   2041           00214         CALL            DELAY
0074   1207           00215         BCF                     PORTC,4
Warning[203]: Found opcode in column 1. (RETURN)
0075   0008           00216 RETURN
                      00217 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0076                  00218 TRANSMISSION_IN ;;ПРИЕМ ОТ DS1302
0076   3083           00219         MOVLW           DS_R_MINUTES
0077   00B0           00220         MOVWF           RW_BYTE
0078   20D7           00221         CALL            CONNECT_DS
0079   20EA           00222         CALL            READ_BYTE
007A   0831           00223         MOVF            RW_BYTE1,0
007B   390F           00224         ANDLW           B'00001111'
007C   00A8           00225         MOVWF           NOW_MINUTE              ;;<**** M
                      00226 
Message[305]: Using default destination of 1 (file).
007D   0CB1           00227         RRF                     RW_BYTE1
Message[305]: Using default destination of 1 (file).
007E   0CB1           00228         RRF                     RW_BYTE1
Message[305]: Using default destination of 1 (file).
007F   0CB1           00229         RRF                     RW_BYTE1
Message[305]: Using default destination of 1 (file).
0080   0CB1           00230         RRF                     RW_BYTE1
0081   0831           00231         MOVF            RW_BYTE1,0
0082   390F           00232         ANDLW           B'00001111'
0083   00A9           00233         MOVWF           NOW_MINUTE10            ;;<**** 10M
                      00234 
0084   3085           00235         MOVLW           DS_R_HOUR
0085   00B0           00236         MOVWF           RW_BYTE
0086   20D7           00237         CALL            CONNECT_DS
0087   20EA           00238         CALL            READ_BYTE
0088   0831           00239         MOVF            RW_BYTE1,0
0089   390F           00240         ANDLW           B'00001111'
008A   00AA           00241         MOVWF           NOW_HOUR                ;;<**** H
MPASM  5.37                          MAIN.ASM   7-1-2017  21:19:33         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00242 
Message[305]: Using default destination of 1 (file).
008B   0CB1           00243         RRF                     RW_BYTE1
Message[305]: Using default destination of 1 (file).
008C   0CB1           00244         RRF                     RW_BYTE1
Message[305]: Using default destination of 1 (file).
008D   0CB1           00245         RRF                     RW_BYTE1
Message[305]: Using default destination of 1 (file).
008E   0CB1           00246         RRF                     RW_BYTE1
008F   0831           00247         MOVF            RW_BYTE1,0
0090   3903           00248         ANDLW           B'00000011'
0091   00AB           00249         MOVWF           NOW_HOUR10              ;;<**** 10H
                      00250 
Warning[203]: Found opcode in column 1. (RETURN)
0092   0008           00251 RETURN
                      00252 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00253 ;; ЗАПИСЬ И ЧТЕНИЕ В EEPROM
0093                  00254 EEPROM_WRITE
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0093   1703           00255         BSF                     STATUS,6
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0094   1683           00256         BSF                     STATUS,5
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0095   190C           00257         BTFSC           EECON1,2
0096   2895           00258         GOTO            $-1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0097   1283           00259         BCF                     STATUS,5
0098   0833           00260         MOVF            ADDR,W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0099   008D           00261         MOVWF           EEADR
009A   0834           00262         MOVF            VALUE,W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
009B   008C           00263         MOVWF           EEDATA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
009C   1683           00264         BSF                     STATUS,5
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
009D   138C           00265         BCF                     EECON1,7 ;;запись в EEPROM, 1 - FLASH
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
009E   150C           00266         BSF                     EECON1,2
                      00267         ;;BCF                   INTCON,7 ЗАПРЕТ ПРЕРЫВАНИЙ
009F   3055           00268         MOVLW           0x55
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00A0   008D           00269         MOVWF           EECON2
00A1   30AA           00270         MOVLW           0xAA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00A2   008D           00271         MOVWF           EECON2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00A3   148C           00272         BSF                     EECON1,1
                      00273         ;;BSF                   INTCON,7 РАЗРЕШИТЬ ПРЕРЫВАНИЯ
00A4   0000           00274         NOP
00A5   0000           00275         NOP
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00A6   110C           00276         BCF                     EECON1,2
MPASM  5.37                          MAIN.ASM   7-1-2017  21:19:33         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00A7   0183           00277         CLRF            STATUS
Warning[203]: Found opcode in column 1. (RETURN)
00A8   0008           00278 RETURN
                      00279 
00A9                  00280 EEPROM_READ
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00A9   1703           00281         BSF                     STATUS,6
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00AA   1283           00282         BCF                     STATUS,5
00AB   0833           00283         MOVF            ADDR,W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00AC   008D           00284         MOVWF           EEADR
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00AD   1683           00285         BSF                     STATUS,5
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00AE   138C           00286         BCF                     EECON1,7                ;;EEPROM=0, FLASH=1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00AF   140C           00287         BSF                     EECON1,0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00B0   1283           00288         BCF                     STATUS,5
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00B1   080C           00289         MOVF            EEDATA,W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00B2   0183           00290         CLRF            STATUS
Warning[203]: Found opcode in column 1. (RETURN)
00B3   0008           00291 RETURN
                      00292 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
00B4                  00293 TRANSMISSION_OUT  ;;ПЕРЕДАЧА данных
00B4   308E           00294         MOVLW           DS_WP   
00B5   00B0           00295         MOVWF           RW_BYTE
00B6   20D7           00296         CALL            CONNECT_DS
00B7   3000           00297         MOVLW           b'00000000'     
00B8   00B1           00298         MOVWF           RW_BYTE1
00B9   0C31           00299         RRF                     RW_BYTE1,0
00BA   2102           00300         CALL            WRITE_BYTE
                      00301 ;; очистили бит защиты записи
                      00302 
                      00303 ;; записываем в DS минуты 
00BB   0829           00304         MOVF            NOW_MINUTE10,0
00BC   00B1           00305         MOVWF           RW_BYTE1
00BD   0DB1           00306         RLF                     RW_BYTE1,1
00BE   0DB1           00307         RLF                     RW_BYTE1,1
00BF   0DB1           00308         RLF                     RW_BYTE1,1
00C0   0DB1           00309         RLF                     RW_BYTE1,1
00C1   0828           00310         MOVF            NOW_MINUTE,0
00C2   04B1           00311         IORWF           RW_BYTE1,1
00C3   3082           00312         MOVLW           DS_W_MINUTES
00C4   00B0           00313         MOVWF           RW_BYTE
00C5   20D7           00314         CALL            CONNECT_DS
00C6   2102           00315         CALL            WRITE_BYTE
                      00316         
                      00317 ; Часы:
MPASM  5.37                          MAIN.ASM   7-1-2017  21:19:33         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00C7   082B           00318         MOVF            NOW_HOUR10,0
00C8   00B1           00319         MOVWF           RW_BYTE1        ;00000001
00C9   0DB1           00320         RLF                     RW_BYTE1,1      ;00000010
00CA   0DB1           00321         RLF                     RW_BYTE1,1      ;00000100
00CB   0DB1           00322         RLF                     RW_BYTE1,1      ;00001000
00CC   0DB1           00323         RLF                     RW_BYTE1,1      ;00010000
00CD   082A           00324         MOVF            NOW_HOUR,0
00CE   04B1           00325         IORWF           RW_BYTE1,1
00CF   13B1           00326         BCF                     RW_BYTE1,7
00D0   3084           00327         MOVLW           DS_W_HOUR
00D1   00B0           00328         MOVWF           RW_BYTE
00D2   20D7           00329         CALL            CONNECT_DS
00D3   2102           00330         CALL            WRITE_BYTE
                      00331         
00D4   1105           00332         BCF                     PORTA,RST
00D5   1085           00333         BCF                     PORTA,IO
Warning[203]: Found opcode in column 1. (RETURN)
00D6   0008           00334 RETURN
                      00335 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
00D7                  00336 CONNECT_DS
00D7   1505           00337         BSF                     PORTA,RST
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00D8   1303           00338         BCF                     STATUS,6                ;;первый бит выбора банка = 0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00D9   1683           00339         BSF                     STATUS,5                ;;второй = 1   => bank #1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00DA   1085           00340         BCF                     TRISA,IO                ;;0=output
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00DB   1283           00341         BCF                     STATUS,5                ;;второй = 0   => bank #0
Warning[207]: Found label after column 1. (CONNECT_DS_BEFORE_SETBIT)
00DC                  00342                 CONNECT_DS_BEFORE_SETBIT
00DC   1005           00343                 BCF                     PORTA,SCLK ;;4 тика между включением и выключением Sclk = 1мкс п
                            ри 4Мц
00DD   1C30           00344                 BTFSS           RW_BYTE,0
00DE   28E1           00345                 GOTO            CONNECT_DS_BEFORE_SETBIT1
00DF   1485           00346                 BSF                     PORTA,IO
00E0   28E3           00347                 GOTO            CONNECT_DS_AFTER_SETBIT
Warning[207]: Found label after column 1. (CONNECT_DS_BEFORE_SETBIT1)
00E1                  00348                         CONNECT_DS_BEFORE_SETBIT1
00E1   1085           00349                         BCF                     PORTA,IO
00E2   0000           00350                         NOP
Warning[207]: Found label after column 1. (CONNECT_DS_AFTER_SETBIT)
00E3                  00351                 CONNECT_DS_AFTER_SETBIT
00E3   1405           00352                 BSF                     PORTA,SCLK
00E4   0CB0           00353                 RRF                     RW_BYTE,1               
00E5   13B0           00354                 BCF                     RW_BYTE,7
00E6   0AB0           00355                 INCF            RW_BYTE,1
00E7   0BB0           00356                 DECFSZ          RW_BYTE,1
00E8   28DC           00357                 GOTO            CONNECT_DS_BEFORE_SETBIT
Warning[203]: Found opcode in column 1. (RETURN)
00E9   0008           00358 RETURN
                      00359 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
00EA                  00360 READ_BYTE
MPASM  5.37                          MAIN.ASM   7-1-2017  21:19:33         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00EA   1303           00361         BCF                     STATUS,6                ;;первый бит выбора банка = 0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00EB   1683           00362         BSF                     STATUS,5                ;;второй = 1   => bank #1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00EC   1485           00363         BSF                     TRISA,IO                ;;1=input
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00ED   1283           00364         BCF                     STATUS,5                ;;второй = 0   => bank #0
00EE   3008           00365         MOVLW           .8
00EF   00AC           00366         MOVWF           TIMER_COUNTER1
00F0   01B1           00367         CLRF            RW_BYTE1
00F1                  00368 READ_BYTE_1
Message[305]: Using default destination of 1 (file).
00F1   0CB1           00369         RRF                     RW_BYTE1
00F2   1005           00370         BCF                     PORTA,SCLK
00F3   0000           00371         NOP
00F4   1885           00372         BTFSC           PORTA,IO
00F5   28F8           00373         GOTO            READ_BYTE_BEFORE
00F6   13B1           00374         BCF                     RW_BYTE1,7
00F7   28F9           00375         GOTO            READ_BYTE_AFTER
00F8                  00376 READ_BYTE_BEFORE
00F8   17B1           00377         BSF                     RW_BYTE1,7
00F9                  00378 READ_BYTE_AFTER
00F9   1405           00379         BSF                     PORTA,SCLK
00FA   0000           00380         NOP
00FB   0000           00381         NOP
00FC   0BAC           00382         DECFSZ          TIMER_COUNTER1,1
00FD   28F1           00383         GOTO            READ_BYTE_1
                      00384 
00FE   1005           00385         BCF                     PORTA, SCLK
00FF   1105           00386         BCF                     PORTA,RST
0100   1085           00387         BCF                     PORTA,IO
Warning[203]: Found opcode in column 1. (RETURN)
0101   0008           00388 RETURN
                      00389 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0102                  00390 WRITE_BYTE
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0102   1303           00391         BCF                     STATUS,6                ;;первый бит выбора банка = 0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0103   1683           00392         BSF                     STATUS,5                ;;второй = 1   => bank #1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0104   1085           00393         BCF                     TRISA,IO                ;; IO = 0 = output
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0105   1283           00394         BCF                     STATUS,5                ;;второй = 0   => bank #0
                      00395 
0106   3009           00396         MOVLW           .9
0107   00AC           00397         MOVWF           TIMER_COUNTER1
                      00398 
                      00399 ; RW_BYTE1 - Байт с данными
Message[305]: Using default destination of 1 (file).
0108   0BAC           00400         DECFSZ          TIMER_COUNTER1
0109   290B           00401         GOTO            $+2
010A   2916           00402         GOTO            $+.12
MPASM  5.37                          MAIN.ASM   7-1-2017  21:19:33         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

010B   1005           00403         BCF                     PORTA,SCLK
010C   0000           00404         NOP
010D   1085           00405         BCF                     PORTA,IO
010E   1C31           00406         BTFSS           RW_BYTE1,0
010F   2911           00407         GOTO            $+2
0110   1485           00408         BSF                     PORTA,IO
0111   0000           00409         NOP
0112   1405           00410         BSF                     PORTA,SCLK
0113   0000           00411         NOP
Message[305]: Using default destination of 1 (file).
0114   0CB1           00412         RRF                     RW_BYTE1
0115   2908           00413         GOTO            $-.13
0116   1005           00414         BCF                     PORTA,SCLK
0117   0000           00415         NOP
0118   0000           00416         NOP
0119   0000           00417         NOP
011A   0000           00418         NOP
011B   1105           00419         BCF                     PORTA,RST
Warning[203]: Found opcode in column 1. (RETURN)
011C   0008           00420 RETURN
                      00421 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
011D                  00422 SHOWING_DELAY           ;;      W ЦИКЛОВ ПОКАЗА ИЗОБРАЖЕНИЯ
011D   00AE           00423         MOVWF           TIMER_COUNTER3
011E                  00424 SHOWING_DELAY_before_cycle1
011E   204C           00425         CALL            SHOWING
Message[305]: Using default destination of 1 (file).
011F   0BAE           00426         DECFSZ          TIMER_COUNTER3
0120   291E           00427         GOTO            SHOWING_DELAY_before_cycle1
0121   0000           00428         NOP
Warning[203]: Found opcode in column 1. (RETURN)
0122   0008           00429 RETURN
                      00430 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00431 
0123                  00432 BUTTON_MODE_PROCESSING ;;После обнаружения нажатия
0123   300F           00433         MOVLW           RATTLING_COUNT_SHOWING  ;;защита от дребезга
0124   211D           00434         CALL            SHOWING_DELAY
0125   204C           00435         CALL            SHOWING
0126   1907           00436         BTFSC           PORTC,B_MODE
0127   2925           00437         GOTO            $-2
0128   300F           00438         MOVLW           RATTLING_COUNT_SHOWING  ;;защита от дребезга
0129   211D           00439         CALL            SHOWING_DELAY   
Warning[203]: Found opcode in column 1. (RETURN)
012A   0008           00440 RETURN
012B                  00441 BUTTON_SELECT_PROCESSING ;;После обнаружения нажатия
012B   300F           00442         MOVLW           RATTLING_COUNT_SHOWING  ;;защита от дребезга
012C   211D           00443         CALL            SHOWING_DELAY
012D   204C           00444         CALL            SHOWING
012E   1987           00445         BTFSC           PORTC,B_SELECT
012F   292D           00446         GOTO            $-2
0130   300F           00447         MOVLW           RATTLING_COUNT_SHOWING  ;;защита от дребезга
0131   211D           00448         CALL            SHOWING_DELAY   
Warning[203]: Found opcode in column 1. (RETURN)
0132   0008           00449 RETURN
MPASM  5.37                          MAIN.ASM   7-1-2017  21:19:33         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00450 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00451 ;;                                      ПРОЦЕДУРА УСТАНОВКИ ВРЕМЕНИ                                     
                                            ;;
                      00452 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0133                  00453 SET_TIME;;Установка времени                             
0133   212B           00454         CALL            BUTTON_SELECT_PROCESSING
0134   2076           00455         CALL            TRANSMISSION_IN
0135   0000           00456         NOP
0136   0828           00457         MOVF            NOW_MINUTE,0
0137   00A3           00458         MOVWF           IND4
0138   0829           00459         MOVF            NOW_MINUTE10,0
0139   00A2           00460         MOVWF           IND3
013A   082A           00461         MOVF            NOW_HOUR,0
013B   00A1           00462         MOVWF           IND2
013C   082B           00463         MOVF            NOW_HOUR10,0
013D   00A0           00464         MOVWF           IND1
013E   3001           00465         MOVLW           B'00000001'
013F   00A5           00466         MOVWF           IBLINKING               ;;МОРГАЕТ ЧЕТВЕРТЫЙ ИНДИКАТОР
0140                  00467 SET_TIME_MIN
0140   204C           00468         CALL            SHOWING
0141   1D87           00469         BTFSS           PORTC,B_SELECT
0142   294D           00470         GOTO            $+.11
0143   0AA3           00471         INCF            IND4,1 ;; СОХРАНЯЕТСЯ В F
0144   0823           00472         MOVF            IND4,0
0145   00A4           00473         MOVWF           IND_TEMP
0146   3009           00474         MOVLW           .9
0147   02A4           00475         SUBWF           IND_TEMP,1
Message[305]: Using default destination of 1 (file).
0148   0BA4           00476         DECFSZ          IND_TEMP
0149   294C           00477         GOTO            $+3
014A   3000           00478         MOVLW           .0
014B   00A3           00479         MOVWF           IND4
014C   212B           00480         CALL            BUTTON_SELECT_PROCESSING
014D   1D07           00481         BTFSS           PORTC,B_MODE
014E   2940           00482         GOTO            SET_TIME_MIN
014F   0823           00483         MOVF            IND4,0
0150   00A8           00484         MOVWF           NOW_MINUTE
Message[305]: Using default destination of 1 (file).
0151   0DA5           00485         RLF                     IBLINKING               ;;МОРГАЕТ ТРЕТИЙ ИНД
0152   2123           00486         CALL    BUTTON_MODE_PROCESSING
                      00487 
0153                  00488 SET_TIME_MIN10
0153   204C           00489         CALL            SHOWING
0154   1D87           00490         BTFSS           PORTC,B_SELECT
0155   2960           00491         GOTO            $+.11
0156   0AA2           00492         INCF            IND3,1 ;; СОХРАНЯЕТСЯ В F
0157   0822           00493         MOVF            IND3,0
0158   00A4           00494         MOVWF           IND_TEMP
0159   3005           00495         MOVLW           .5
015A   02A4           00496         SUBWF           IND_TEMP,1
Message[305]: Using default destination of 1 (file).
015B   0BA4           00497         DECFSZ          IND_TEMP
015C   295F           00498         GOTO            $+3
MPASM  5.37                          MAIN.ASM   7-1-2017  21:19:33         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

015D   3000           00499         MOVLW           .0
015E   00A2           00500         MOVWF           IND3
015F   212B           00501         CALL            BUTTON_SELECT_PROCESSING
0160   1D07           00502         BTFSS           PORTC,B_MODE
0161   2953           00503         GOTO            SET_TIME_MIN10
0162   0822           00504         MOVF            IND3,0
0163   00A9           00505         MOVWF           NOW_MINUTE10
0164   300C           00506         MOVLW           B'00001100'
0165   00A5           00507         MOVWF           IBLINKING               ;;МОРГАЕТ ВТОРОЙ И ПЕРВЫЙ ИНД
0166   2123           00508         CALL    BUTTON_MODE_PROCESSING
0167                  00509 SET_TIME_HOUR
0167   204C           00510         CALL            SHOWING
0168   1D87           00511         BTFSS           PORTC,B_SELECT
0169   2984           00512         GOTO            $+.27
016A   0AA1           00513         INCF            IND2,1 ;; СОХРАНЯЕТСЯ В F
016B   0821           00514         MOVF            IND2,0
016C   00A4           00515         MOVWF           IND_TEMP
016D   3009           00516         MOVLW           .9                                              
016E   02A4           00517         SUBWF           IND_TEMP,1                                      
Message[305]: Using default destination of 1 (file).
016F   0BA4           00518         DECFSZ          IND_TEMP
0170   2974           00519         GOTO            $+.4
0171   3000           00520         MOVLW           .0
0172   00A1           00521         MOVWF           IND2
0173   0AA0           00522         INCF            IND1,1
0174   0820           00523         MOVF            IND1,0
0175   00A4           00524         MOVWF           IND_TEMP
0176   3001           00525         MOVLW           .1                                                      
0177   02A4           00526         SUBWF           IND_TEMP,1      ;; 1я цифра - 2                         
Message[305]: Using default destination of 1 (file).
0178   0BA4           00527         DECFSZ          IND_TEMP
0179   2983           00528         GOTO            $+.10
017A   0821           00529         MOVF            IND2,0
017B   00A4           00530         MOVWF           IND_TEMP        
017C   3003           00531         MOVLW           .3
017D   02A4           00532         SUBWF           IND_TEMP,1      ;; 2я цифра - 4                         
Message[305]: Using default destination of 1 (file).
017E   0BA4           00533         DECFSZ          IND_TEMP
017F   2983           00534         GOTO            $+.4
0180   3000           00535                 MOVLW           .0
0181   00A0           00536                 MOVWF           IND1
0182   00A1           00537                 MOVWF           IND2
0183   212B           00538         CALL            BUTTON_SELECT_PROCESSING
0184   1D07           00539         BTFSS           PORTC,B_MODE
0185   2967           00540         GOTO            SET_TIME_HOUR
0186   0821           00541         MOVF            IND2,0
0187   00AA           00542         MOVWF           NOW_HOUR
0188   0820           00543         MOVF            IND1,0
0189   00AB           00544         MOVWF           NOW_HOUR10
                      00545 
                      00546 ;;      здесь должно быть TRANSMITION_OUT
018A   3000           00547         MOVLW           .0
018B   00A5           00548         MOVWF           IBLINKING
MPASM  5.37                          MAIN.ASM   7-1-2017  21:19:33         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[203]: Found opcode in column 1. (RETURN)
018C   0008           00549 RETURN
                      00550 
                      00551 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00552 ;;                                      ПРОЦЕДУРА УСТАНОВКИ РЕЖИМОВ                                     
                                            ;;
                      00553 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00554 
018D                  00555 SCHEDULE
018D   3000           00556         MOVLW           .0
018E   00B2           00557         MOVWF           CURR_SKED
018F   300A           00558         MOVLW           .10
0190   00A1           00559         MOVWF           IND2
0191   3001           00560         MOVLW           .1      
0192   00A3           00561         MOVWF           IND4
0193   212B           00562         CALL            BUTTON_SELECT_PROCESSING
0194   204C           00563         CALL            SHOWING
0195   1D07           00564         BTFSS           PORTC,B_MODE
0196   29A3           00565         GOTO            $+.13
0197   0AA3           00566         INCF            IND4,1
                      00567 ;;      ОПЕРАЦИЯ СРАВНЕНИЯ: (если ind4==4)
0198   0823           00568         MOVF            IND4,0
0199   00A4           00569         MOVWF           IND_TEMP
019A   3004           00570         MOVLW           .4
019B   02A4           00571         SUBWF           IND_TEMP,1
Message[305]: Using default destination of 1 (file).
019C   0BA4           00572         DECFSZ          IND_TEMP        ;;ELSE:
019D   29A2           00573         GOTO            $+5     
                      00574 ;; THEN:
019E   3001           00575         MOVLW           .1
019F   00A3           00576         MOVWF           IND4
01A0   3000           00577         MOVLW           .0
01A1   00B2           00578         MOVWF           CURR_SKED
01A2   2123           00579         CALL            BUTTON_MODE_PROCESSING
                      00580 
01A3   1D87           00581         BTFSS           PORTC,B_SELECT
01A4   2994           00582         GOTO            $-.16
01A5   212B           00583         CALL            BUTTON_SELECT_PROCESSING
                      00584 
01A6   0832           00585         MOVF            CURR_SKED,W
01A7   00B3           00586         MOVWF           ADDR
01A8   20A9           00587         CALL            EEPROM_READ
01A9   00A8           00588         MOVWF           NOW_MINUTE
01AA   0AB3           00589         INCF            ADDR,F
01AB   20A9           00590         CALL            EEPROM_READ
01AC   00A9           00591         MOVWF           NOW_MINUTE10
01AD   0AB3           00592         INCF            ADDR,F
01AE   20A9           00593         CALL            EEPROM_READ
01AF   00AA           00594         MOVWF           NOW_HOUR
01B0   0AB3           00595         INCF            ADDR,F
01B1   20A9           00596         CALL            EEPROM_READ
01B2   00AB           00597         MOVWF           NOW_HOUR10
01B3   0AB3           00598         INCF            ADDR,F
MPASM  5.37                          MAIN.ASM   7-1-2017  21:19:33         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01B4   20A9           00599         CALL            EEPROM_READ
01B5   2133           00600         CALL            SET_TIME
                      00601 ;; ОТПРАВКА В EEPROM
01B6   00B4           00602         MOVWF           VALUE
01B7   2093           00603         CALL            EEPROM_WRITE
01B8   0AB3           00604         INCF            ADDR,F  
01B9   0008           00605         RETURN          
                      00606 
                      00607 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00608 ;;
                      00609 ;;
                      00610 ;;                                              Структура меню:
                      00611 ;;
                      00612 ;;
                      00613 ;;      Вход
                      00614 ;;      |
                      00615 ;;      |+              установка времени/даты          
                      00616 ;;      |+                              минуты
                      00617 ;;      |+                              десятки минут
                      00618 ;;      |+                              часы
                      00619 ;;      |+                              десятки часов
                      00620 ;;      |+              режим
                      00621 ;;      |+                          1
                      00622 ;;      |                                       off/on          
                      00623 ;;  |                                   время включения                         
                      00624 ;;      |                                               минуты
                      00625 ;;      |                                               десятки минут
                      00626 ;;      |                                               часы
                      00627 ;;      |                                               десятки часов
                      00628 ;;      |                                       время работы                    
                      00629 ;;      |                                               минуты
                      00630 ;;      |                                               десятки минут
                      00631 ;;      |                                               часы (до 5ч)
                      00632 ;;      |+                              2       -=-
                      00633 ;;      |+                              3       -=-
                      00634 ;;      |+              сброс
                      00635 ;;      |+                              NO
                      00636 ;;      |+                              YES
                      00637 ;;      |+              ручное управление - по нажатию открытие реле
                      00638 ;;      |
                      00639 ;;      |
                      00640 ;;              операция ввода, возвращает в W результат для каждой цифры
                      00641 ;;
                      00642 ;;
                      00643 ;;
                      00644 ;;
                      00645 ;;
                      00646 ;;
                      00647 
01BA                  00648 SHOWMENU
01BA   3009           00649         MOVLW           COUNT_TAPS_MODE_CONST   ;;      устанавливается счетчик нажатий 
                      00650                                                 ;;      кнопки mode, когда = 0, выход на уровень вверх.
01BB   00A7           00651         MOVWF           COUNT_TAPS_MODE
MPASM  5.37                          MAIN.ASM   7-1-2017  21:19:33         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00652 
01BC   3010           00653         MOVLW           .16
01BD   00A1           00654         MOVWF           IND2
01BE   3001           00655         MOVLW           .1
01BF   00A2           00656         MOVWF           IND3                    ;; "HI"
01C0   300A           00657         MOVLW           .10
01C1   00A0           00658         MOVWF           IND1
01C2   00A3           00659         MOVWF           IND4
                      00660 ;;      50 циклов показа картинки
01C3   3032           00661         MOVLW           .50
01C4   211D           00662         CALL            SHOWING_DELAY
01C5   204C           00663         CALL            SHOWING
01C6   1907           00664         BTFSC           PORTC,B_MODE
01C7   29C5           00665         GOTO            $-2
01C8   300F           00666         MOVLW           RATTLING_COUNT_SHOWING
01C9   211D           00667         CALL            SHOWING_DELAY           ;;ОТПУСТИЛИ КНОПКУ
Warning[207]: Found label after column 1. (SHOWMENU_before_transmit)
01CA                  00668         SHOWMENU_before_transmit
01CA   2076           00669                 CALL            TRANSMISSION_IN
01CB   0000           00670                 NOP
01CC   0828           00671                 MOVF            NOW_MINUTE,0
01CD   00A3           00672                 MOVWF           IND4
01CE   0829           00673                 MOVF            NOW_MINUTE10,0
01CF   00A2           00674                 MOVWF           IND3
01D0   082A           00675                 MOVF            NOW_HOUR,0
01D1   00A1           00676                 MOVWF           IND2
01D2   082B           00677                 MOVF            NOW_HOUR10,0
01D3   00A0           00678                 MOVWF           IND1
01D4   3003           00679                 MOVLW           .3
01D5   211D           00680                 CALL            SHOWING_DELAY
01D6   1D07           00681                 BTFSS           PORTC,B_MODE
01D7   29CA           00682                 GOTO            SHOWMENU_before_transmit                
01D8                  00683 SHOWMENU_change_time
01D8   3008           00684         MOVLW           .8      
01D9   00A0           00685         MOVWF           IND1
01DA   3013           00686         MOVLW           .19     
01DB   00A1           00687         MOVWF           IND2
01DC   300D           00688         MOVLW           .13     
01DD   00A2           00689         MOVWF           IND3
01DE   300A           00690         MOVLW           .10     
01DF   00A3           00691         MOVWF           IND4
                      00692 
01E0   2123           00693         CALL            BUTTON_MODE_PROCESSING
01E1   204C           00694         CALL            SHOWING
01E2   1D07           00695         BTFSS           PORTC,B_MODE
01E3   29E5           00696         GOTO            $+2     
01E4   29EA           00697         GOTO            SHOWMENU_change_shedule
01E5   1D87           00698         BTFSS           PORTC,B_SELECT
01E6   29E1           00699         GOTO            $-5
                      00700 ;;
01E7   2133           00701         CALL            SET_TIME
01E8   20B4           00702         CALL            TRANSMISSION_OUT
01E9   29CA           00703         GOTO            SHOWMENU_before_transmit
MPASM  5.37                          MAIN.ASM   7-1-2017  21:19:33         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00704 
01EA                  00705 SHOWMENU_change_shedule
01EA   3013           00706         MOVLW           .19                     ;; "РЕ  "
01EB   00A0           00707         MOVWF           IND1
01EC   300D           00708         MOVLW           .13     
01ED   00A1           00709         MOVWF           IND2
01EE   300A           00710         MOVLW           .10     
01EF   00A2           00711         MOVWF           IND3
01F0   300A           00712         MOVLW           .10     
01F1   00A3           00713         MOVWF           IND4
                      00714 
01F2   2123           00715         CALL            BUTTON_MODE_PROCESSING
01F3   204C           00716         CALL            SHOWING
01F4   1D07           00717         BTFSS           PORTC,B_MODE
01F5   29F7           00718         GOTO            $+2
01F6   29FA           00719         GOTO SHOWMENU_reset 
01F7   1D87           00720         BTFSS           PORTC,B_SELECT
01F8   29F3           00721         GOTO            $-5
01F9   298D           00722         GOTO            SCHEDULE
                      00723 
01FA                  00724 SHOWMENU_reset
01FA   300C           00725         MOVLW           .12     
01FB   00A0           00726         MOVWF           IND1
01FC   3016           00727         MOVLW           .22     
01FD   00A1           00728         MOVWF           IND2
01FE   3013           00729         MOVLW           .19     
01FF   00A2           00730         MOVWF           IND3
0200   300C           00731         MOVLW           .12     
0201   00A3           00732         MOVWF           IND4
                      00733 
0202   2123           00734         CALL            BUTTON_MODE_PROCESSING
0203   204C           00735         CALL            SHOWING
0204   1D07           00736         BTFSS           PORTC,B_MODE
0205   2A07           00737         GOTO            $+2
0206   2A37           00738         GOTO            SHOWMENU_manual_control
0207   1D87           00739         BTFSS           PORTC,B_SELECT
0208   2A03           00740         GOTO            $-5
                      00741                 ;; НАЖАТА КНОПКА SELECT
                      00742                                 ;; NO
0209   3012           00743         MOVLW           .18     
020A   00A0           00744         MOVWF           IND1
020B   3000           00745         MOVLW           .0      
020C   00A1           00746         MOVWF           IND2
020D   300A           00747         MOVLW           .10     
020E   00A2           00748         MOVWF           IND3
020F   300A           00749         MOVLW           .10     
0210   00A3           00750         MOVWF           IND4
0211   212B           00751         CALL            BUTTON_SELECT_PROCESSING
0212   204C           00752         CALL            SHOWING
0213   1D07           00753         BTFSS           PORTC,B_MODE
0214   2A16           00754         GOTO            $+2
0215   2A19           00755         GOTO            $+4
0216   1D87           00756         BTFSS           PORTC,B_SELECT
MPASM  5.37                          MAIN.ASM   7-1-2017  21:19:33         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0217   2A12           00757         GOTO            $-5
0218   2811           00758         GOTO            MAIN
                      00759                                 ;; YES
0219   3017           00760         MOVLW           .23     
021A   00A0           00761         MOVWF           IND1
021B   300D           00762         MOVLW           .13     
021C   00A1           00763         MOVWF           IND2
021D   3005           00764         MOVLW           .5      
021E   00A2           00765         MOVWF           IND3
021F   300A           00766         MOVLW           .10     
0220   00A3           00767         MOVWF           IND4
0221   2123           00768         CALL            BUTTON_MODE_PROCESSING
                      00769 
0222   204C           00770         CALL            SHOWING
0223   1D07           00771         BTFSS           PORTC,B_MODE
0224   2A2F           00772         GOTO            $+.11
0225   3012           00773         MOVLW           .18     
0226   00A0           00774         MOVWF           IND1
0227   3000           00775         MOVLW           .0      
0228   00A1           00776         MOVWF           IND2
0229   300A           00777         MOVLW           .10     
022A   00A2           00778         MOVWF           IND3
022B   300A           00779         MOVLW           .10     
022C   00A3           00780         MOVWF           IND4
022D   2123           00781         CALL            BUTTON_MODE_PROCESSING
022E   2A12           00782         GOTO            $-.28
022F   1D87           00783         BTFSS           PORTC,B_SELECT
0230   2A22           00784         GOTO            $-.14
                      00785         ;CALL           FRESET ;;   <------              **  FRESET  **
0231   300F           00786         MOVLW           B'00001111'
0232   00A5           00787         MOVWF           IBLINKING       
0233   30FA           00788         MOVLW           .250
0234   211D           00789         CALL            SHOWING_DELAY
0235   2811           00790         GOTO            MAIN
                      00791         
                      00792         
0236   2123           00793         CALL            BUTTON_MODE_PROCESSING
                      00794 
0237                  00795 SHOWMENU_manual_control
0237   3013           00796         MOVLW           .19     
0238   00A0           00797         MOVWF           IND1
0239   3017           00798         MOVLW           .23     
023A   00A1           00799         MOVWF           IND2
023B   3018           00800         MOVLW           .24     
023C   00A2           00801         MOVWF           IND3
023D   3010           00802         MOVLW           .16     
023E   00A3           00803         MOVWF           IND4
                      00804         
023F   2123           00805         CALL            BUTTON_MODE_PROCESSING
0240   204C           00806         CALL            SHOWING
0241   1D87           00807         BTFSS           PORTC,B_SELECT
0242   2A46           00808         GOTO            $+4
0243   1487           00809         BSF                     PORTC,RELAY
MPASM  5.37                          MAIN.ASM   7-1-2017  21:19:33         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0244   212B           00810         CALL            BUTTON_SELECT_PROCESSING
0245   1087           00811         BCF                     PORTC,RELAY
0246   1D07           00812         BTFSS           PORTC,B_MODE
0247   2A40           00813         GOTO            $-7
                      00814 
Warning[203]: Found opcode in column 1. (GOTO)
0248   2811           00815 GOTO    MAIN
Warning[205]: Found directive in column 1. (end)
                      00816 end
MPASM  5.37                          MAIN.ASM   7-1-2017  21:19:33         PAGE 19


SYMBOL TABLE
  LABEL                             VALUE 

ADCON0                            0000001F
ADCON1                            0000009F
ADDR                              00000033
BUTTON_MODE_PROCESSING            00000123
BUTTON_SELECT_PROCESSING          0000012B
B_MODE                            00000002
B_SELECT                          00000003
CHAR_TABLE                        00000026
CONNECT_DS                        000000D7
CONNECT_DS_AFTER_SETBIT           000000E3
CONNECT_DS_BEFORE_SETBIT          000000DC
CONNECT_DS_BEFORE_SETBIT1         000000E1
COUNT_TAPS_MODE                   00000027
COUNT_TAPS_MODE_CONST             00000009
COUNT_TAPS_MODE_CONST1            00000007
CURR_SKED                         00000032
DELAY                             00000041
DS_R_HOUR                         00000085
DS_R_MINUTES                      00000083
DS_WP                             0000008E
DS_W_HOUR                         00000084
DS_W_MINUTES                      00000082
EEADR                             0000010D
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEPROM_READ                       000000A9
EEPROM_WRITE                      00000093
IBLINKING                         00000025
IDOBLINK                          00000026
IND1                              00000020
IND2                              00000021
IND3                              00000022
IND4                              00000023
IND_TEMP                          00000024
INTCON                            0000008B
IO                                00000001
MAIN                              00000011
NOW_HOUR                          0000002A
NOW_HOUR10                        0000002B
NOW_MINUTE                        00000028
NOW_MINUTE10                      00000029
PCL                               00000002
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
RATTLING_COUNT_SHOWING            0000000F
READ_BYTE                         000000EA
READ_BYTE_1                       000000F1
READ_BYTE_AFTER                   000000F9
READ_BYTE_BEFORE                  000000F8
RELAY                             00000001
RST                               00000002
MPASM  5.37                          MAIN.ASM   7-1-2017  21:19:33         PAGE 20


SYMBOL TABLE
  LABEL                             VALUE 

RW_BYTE                           00000030
RW_BYTE1                          00000031
SCHEDULE                          0000018D
SCLK                              00000000
SET_TIME                          00000133
SET_TIME_HOUR                     00000167
SET_TIME_MIN                      00000140
SET_TIME_MIN10                    00000153
SHOWING                           0000004C
SHOWING_DELAY                     0000011D
SHOWING_DELAY_before_cycle1       0000011E
SHOWMENU                          000001BA
SHOWMENU_before_transmit          000001CA
SHOWMENU_change_shedule           000001EA
SHOWMENU_change_time              000001D8
SHOWMENU_manual_control           00000237
SHOWMENU_reset                    000001FA
STATUS                            00000083
TIMER_COUNTER1                    0000002C
TIMER_COUNTER2                    0000002D
TIMER_COUNTER3                    0000002E
TIMER_COUNTER4                    0000002F
TRANSMISSION_IN                   00000076
TRANSMISSION_OUT                  000000B4
TRISA                             00000085
TRISB                             00000086
TRISC                             00000087
VALUE                             00000034
WRITE_BYTE                        00000102
__16F876A                         00000001
__DEBUG                           1
init_lbl                          00000000


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXX------- ---------------- ---------------- ----------------
MPASM  5.37                          MAIN.ASM   7-1-2017  21:19:33         PAGE 21


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)


2000 : -------X-------- ---------------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:   585
Program Memory Words Free:  7607


Errors   :     0
Warnings :    24 reported,     0 suppressed
Messages :    67 reported,     0 suppressed

